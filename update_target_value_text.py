#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import sqlite3

# 指标编码与目标导向的映射（部分示例，实际应补全所有指标）
target_map = {
    'A01': '逐步降低',
    'A02': '逐步升高',
    'A03': '逐步提高-不低于75%',
    'A04': '监测比较',
    'A05': '监测比较',
    'A06': '监测比较',
    'B01': '逐步提高',
    'B02': '逐步提高',
    'B03': '逐步提高',
    'B04': '逐步提高',
    'B05': '逐步提高',
    'B06': '逐步提高',
    'B07': '逐步提高',
    'B08': '逐步提高',
    'B09': '达到省的要求',
    'B10': '逐步提高',
    'B11': '逐步降低',
    'B11.1': '逐步降低',
    'B11.2': '逐步降低',
    'B11.3': '逐步降低',
    'B11.4': '逐步降低',
    'B15': '逐步提高',
    'B15.1': '逐步提高',
    'B15.2': '逐步提高',
    'B15.3': '逐步提高',
    'B15.4': '逐步提高',
    'B15.5': '逐步提高',
    'B15.6': '逐步提高',
    'B15.7': '逐步提高',
    'B15.8': '逐步提高',
    'B15.9': '逐步提高',
    'B18': '逐步提高',
    'B16': '逐步提高',
    'B17': '逐步提高',
    'B19': '逐步提高',
    'C01': '逐步提高',
    'C02': '逐步降低，≤0.37%',
    'C03': '监测比较',
    'C04': '逐步降低',
    'C05': '逐步降低',
    'C06': '逐步降低',
    'C06.1': '逐步降低，三甲评审要求非再总的发生率不高于0.18%，高水平医院要求不高于0.5%',
    'C06.2': '逐步降低',
    'C06.3': '逐步降低',
    'C07': '逐步降低，≤0.10%',
    'C08': '逐步提高',
    'C09': '逐步降低',
    'C10': '逐步降低',
    'C11': '逐步降低',
    'C11.1': '逐步降低',
    'C11.2': '逐步降低',
    'C11.3': '逐步降低',
    'C11.4': '逐步降低',
    'C11.5': '逐步降低',
    'C11.6': '逐步降低',
    'C11.7': '逐步降低',
    'C11.8': '逐步降低',
    'C11.9': '逐步降低',
    'C11.10': '逐步降低',
    'C11.11': '逐步降低',
    'C11.12': '逐步降低',
    'C11.13': '逐步降低',
    'C11.14': '逐步降低',
    'C11.15': '逐步降低',
    'C11.16': '逐步降低',
    'C11.17': '逐步降低',
    'C11.18': '逐步降低',
    'C11.19': '逐步降低',
    'D01': '监测比较',
    'D02': '监测比较',
    'D03': '逐步提高',
    'D03.1': '逐步提高',
    'D03.2': '逐步提高',
    'D04': '逐步提高',
    'D04.1': '逐步提高',
    'D04.2': '逐步提高',
    'D04.3': '逐步提高',
    'D04.4': '逐步提高',
}

conn = sqlite3.connect('instance/medquality.db')
cursor = conn.cursor()

try:
    cursor.execute('BEGIN TRANSACTION')
    for code, value in target_map.items():
        cursor.execute('UPDATE indicators SET target_value = ? WHERE code = ?', (value, code))
    conn.commit()
    print('已批量更新target_value为目标导向文字')
except Exception as e:
    conn.rollback()
    print(f'错误: {str(e)}')
finally:
    conn.close() 