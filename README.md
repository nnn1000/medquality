# 全面提升医疗质量管理系统

## 项目简介

全面提升医疗质量管理系统是一个基于Python+Flask+SQLite的Web应用，用于实现《东莞市全面提升医疗质量操作手册（2024版）》中40个医疗质量指标的数据录入、计算和结果展示功能。系统支持单条和批量数据录入，自动计算各类指标结果，并能生成多种格式的报表。

## 功能特点

1. **用户管理**：支持用户注册、登录、权限管理
2. **指标管理**：完整实现40个医疗质量指标的管理
3. **数据录入**：支持单条数据录入和Excel批量导入
4. **数据计算**：自动根据各指标特性计算指标结果
5. **报表生成**：支持标准报告、详细报告和汇总报告三种格式
6. **数据分析**：直观展示指标达标情况、趋势分析
7. **筛选功能**：支持按医院、时间周期和指标类别筛选

## 系统架构

- **MVC架构**：Models（模型）、Views（视图）、Controllers（控制器）
- **核心模块**：
  - 用户认证管理(auth)
  - 仪表盘和统计分析(dashboard)
  - 指标和数据管理(indicators)
  - 报表生成管理(reports)
- **服务层**：
  - 指标计算服务(IndicatorCalculator)
  - 报表生成服务(ReportGenerator)

## 安装指南

### 前置需求

- Python 3.8+
- pip（Python包管理工具）

### 安装步骤

1. 克隆代码库：
   ```
   git clone <仓库地址>
   cd medquality
   ```

2. 安装依赖包：
   ```
   pip install -r requirements.txt
   ```

3. 初始化数据库：
   ```
   flask init-db
   ```

4. 导入40个医疗质量指标（可选）：
   ```
   python scripts/import_all_indicators.py
   ```

5. 启动应用：
   ```
   flask run
   ```
   或使用
   ```
   python run.py
   ```

6. 访问系统：
   在浏览器中访问 `http://127.0.0.1:5000`

### 默认管理员账号

- 用户名：admin
- 密码：admin123

## 医疗质量指标概述

系统实现了《东莞市全面提升医疗质量操作手册（2024版）》中的40个医疗质量指标，分为四大类：

1. **急诊和日间医疗质量相关指标（6个）**：
   - A01 平均急救响应时间
   - A02 心脏骤停复苏成功率
   - A03 急性ST段抬高型心肌梗死再灌注治疗率
   - A04 急性脑梗死再灌注治疗率
   - A05 开展日间医疗服务的医院占比
   - A06 日间手术占择期手术的比例

2. **医疗行为质量相关指标（19个）**：
   - B01 肿瘤治疗前临床TNM分期评估率
   - B02 营养风险筛查率
   - B03 疼痛评估规范率
   - B04 门诊处方审核率
   - ... (更多指标)

3. **结果质量相关指标（11个）**：
   - C01 医院CMI值
   - C02 手术患者住院死亡率
   - C03 ICU患者病死率
   - ... (更多指标)

4. **病历质量相关指标（4个）**：
   - D01 门诊病历电子化比例
   - D02 门诊结构化病历使用比例
   - D03 病案首页主要诊断编码正确率
   - D04 病历记录及时性

## 使用指南

### 数据录入

1. **单条数据录入**：
   - 登录系统
   - 导航至"指标管理" > "数据录入"
   - 选择医院、报告周期和指标
   - 输入分子、分母数据
   - 点击提交

2. **批量数据导入**：
   - 登录系统
   - 导航至"指标管理" > "批量导入"
   - 下载导入模板
   - 填写数据后上传Excel文件
   - 选择医院和报告周期
   - 点击导入

### 报表生成

1. 导航至"报表生成"页面
2. 选择报告周期、医院和报告类型
3. 点击"生成报告"
4. 在报表列表中下载生成的报表

### 数据分析

1. 导航至"统计分析"页面
2. 使用筛选器选择特定的报告周期、医院或指标类别
3. 查看统计结果和图表

## 开发指南

### 项目结构

```
medquality/
├── app/                    # 应用目录
│   ├── __init__.py         # 应用初始化
│   ├── models/             # 数据模型
│   ├── controllers/        # 控制器
│   ├── services/           # 服务层
│   ├── templates/          # 视图模板
│   └── static/             # 静态资源
├── instance/               # 实例目录（数据库、上传文件等）
├── scripts/                # 脚本目录
│   └── import_indicators.py  # 指标导入脚本
├── run.py                  # 应用运行入口
└── requirements.txt        # 依赖包列表
```

### 添加新指标

要添加新的指标，可以：

1. 编辑 `scripts/import_indicators*.py` 文件，添加新指标定义
2. 运行导入脚本更新数据库
3. 如果需要特殊的计算逻辑，在 `app/services/calculator.py` 中添加对应代码

## 许可证

本项目采用MIT许可证。 
│
├── app/                # 应用核心代码
│   ├── controllers/    # 控制器
│   ├── models/         # 数据模型
│   ├── services/       # 业务逻辑服务
│   ├── static/         # 静态资源
│   ├── templates/      # 模板文件
│   └── __init__.py     # 应用初始化
│
├── instance/           # 实例文件夹(数据库、上传文件等)
├── requirements.txt    # 依赖包列表
├── run.py              # 应用启动入口
└── README.md           # 项目说明文档
```

## 指标分类

系统包含的40个医疗质量指标分为四大类：

1. **急诊和日间医疗质量**（6个）
2. **医疗行为质量**（19个）
3. **结果质量**（11个）
4. **病历质量**（4个）

## 开发者

全面提升医疗质量管理系统开发团队

## 许可证

MIT License 